{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/blog.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../common/category-component/category-component.component\";\nconst _c0 = a0 => [\"/blog\", a0];\nfunction ProfileComponent_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \" Getting blogger data... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_small_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 16)(1, \"b\");\n    i0.ɵɵtext(2, \"ERROR\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.bloggerProfile.error, \"! \");\n  }\n}\nfunction ProfileComponent_div_5_div_4_h4_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵelement(1, \"i\", 30);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.bloggerProfile.data.address, \" \");\n  }\n}\nfunction ProfileComponent_div_5_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"h3\")(2, \"b\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h4\");\n    i0.ɵɵelement(6, \"i\", 27);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"h4\");\n    i0.ɵɵelement(9, \"i\", 28);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"h4\");\n    i0.ɵɵelement(12, \"i\", 29);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, ProfileComponent_div_5_div_4_h4_14_Template, 3, 1, \"h4\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.bloggerProfile.data.first_name, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.bloggerProfile.data.last_name, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.bloggerProfile.data.job ? ctx_r0.bloggerProfile.data.job : ctx_r0.bloggerProfile.data.role, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.bloggerProfile.data.email, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.bloggerProfile.data.joined, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.bloggerProfile.data.address);\n  }\n}\nfunction ProfileComponent_div_5_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 31)(1, \"b\");\n    i0.ɵɵtext(2, \"About me:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.bloggerProfile.data.about, \" \");\n  }\n}\nfunction ProfileComponent_div_5_a_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 32);\n    i0.ɵɵtext(1, \"Write new blog\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_div_5_a_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 33);\n    i0.ɵɵtext(1, \"Edit profile\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18)(2, \"div\", 19);\n    i0.ɵɵelement(3, \"img\", 20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, ProfileComponent_div_5_div_4_Template, 15, 6, \"div\", 21);\n    i0.ɵɵelementStart(5, \"div\", 22);\n    i0.ɵɵtemplate(6, ProfileComponent_div_5_p_6_Template, 4, 1, \"p\", 23)(7, ProfileComponent_div_5_a_7_Template, 2, 0, \"a\", 24);\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵtemplate(9, ProfileComponent_div_5_a_9_Template, 2, 0, \"a\", 25);\n    i0.ɵɵpipe(10, \"async\");\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r0.bloggerProfile.data.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.bloggerProfile.data);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.bloggerProfile.data.about);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(8, 5, ctx_r0.User));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(10, 7, ctx_r0.User));\n  }\n}\nfunction ProfileComponent_li_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 34)(1, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_li_14_Template_a_click_1_listener() {\n      const page_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.changePage(page_r3 + 1));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const page_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", page_r3 + 1 == ctx_r0.bloggerAllBlogs.currentPage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", page_r3 + 1, \" \");\n  }\n}\nfunction ProfileComponent_p_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", ctx_r0.bloggerAllBlogs == null ? null : ctx_r0.bloggerAllBlogs.error, \" \", ctx_r0.bloggerAllBlogs.loading ? \"Loading...\" : \"\", \" \");\n  }\n}\nfunction ProfileComponent_div_16_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵelement(1, \"i\", 38);\n    i0.ɵɵtext(2, \" No blogs found! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_div_16_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"div\", 40)(2, \"div\", 41);\n    i0.ɵɵelement(3, \"img\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 2)(5, \"h5\", 43)(6, \"a\", 44);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"p\", 45);\n    i0.ɵɵelement(9, \"i\", 46);\n    i0.ɵɵtext(10);\n    i0.ɵɵelement(11, \"br\")(12, \"i\", 47);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const blog_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", blog_r4.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c0, blog_r4._id));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", blog_r4.title, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", blog_r4.writter.first_name, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", blog_r4.category.name, \" \");\n  }\n}\nfunction ProfileComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtemplate(1, ProfileComponent_div_16_p_1_Template, 3, 0, \"p\", 3)(2, ProfileComponent_div_16_div_2_Template, 14, 7, \"div\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.bloggerAllBlogs.items.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.bloggerAllBlogs.items);\n  }\n}\nfunction ProfileComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-category-component\", 48);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"bloggerName\", ctx_r0.bloggerProfile.data.first_name)(\"bloggerId\", ctx_r0.bloggerProfile.data._id)(\"categoryId\", ctx_r0.categoryId);\n  }\n}\nexport let ProfileComponent = /*#__PURE__*/(() => {\n  class ProfileComponent {\n    constructor(_authService, _route, _blogService) {\n      this._authService = _authService;\n      this._route = _route;\n      this._blogService = _blogService;\n      this.categoryId = 'all';\n      this.bloggerProfile = {\n        sub: null,\n        error: null,\n        loading: null,\n        data: {\n          img: null,\n          _id: null,\n          email: null,\n          first_name: null,\n          last_name: null,\n          role: null,\n          joined: null,\n          job: null,\n          address: null,\n          about: null\n        }\n      };\n      this.bloggerAllBlogs = {\n        sub: null,\n        error: null,\n        loading: false,\n        items: [],\n        totalBlogs: 0,\n        totalPages: [],\n        currentPage: 0\n      };\n    }\n    ngOnInit() {\n      this.User = this._authService.$User;\n      this.bloggerProfile.data._id = this._route.snapshot.paramMap.get('bloggerId');\n      this._route.params.subscribe(params => {\n        if (!params.categoryId) {\n          this.categoryId = 'all';\n        } else {\n          this.categoryId = params.categoryId;\n        }\n        this.getBloggerBlogs(this.bloggerProfile.data._id, this.categoryId);\n      });\n      this.getBloggerProfile(this.bloggerProfile.data._id);\n    }\n    getBloggerProfile(bloggerId) {\n      this.User = this._authService.$User;\n      this.bloggerProfile.loading = true;\n      this.bloggerProfile.error = null;\n      this.bloggerProfile.sub = this._authService.getBloggerProfile(bloggerId).subscribe(res => {\n        this.bloggerProfile.data = res;\n        this.bloggerProfile.data.img = this.bloggerProfile.data.img;\n        this.bloggerProfile.loading = false;\n        this.bloggerProfile.sub.unsubscribe();\n      }, err => {\n        console.log(err);\n        this.bloggerProfile.error = err;\n        this.bloggerProfile.loading = false;\n        this.bloggerProfile.sub.unsubscribe();\n      });\n    }\n    getBloggerBlogs(bloggerId, categoryId) {\n      this.bloggerAllBlogs.loading = true;\n      this.bloggerAllBlogs.error = null;\n      this.bloggerAllBlogs.sub = this._blogService.getblogList(bloggerId, categoryId).subscribe(res => {\n        this.bloggerAllBlogs.items = res.result;\n        this.bloggerAllBlogs.totalBlogs = res.totalBlogs;\n        this.bloggerAllBlogs.currentPage = res.currentPage;\n        this.bloggerAllBlogs.totalPages = Array(res.totalPages).fill(5).map((x, i) => i);\n        this.bloggerAllBlogs.loading = false;\n        this.bloggerAllBlogs.sub.unsubscribe();\n      }, err => {\n        this.bloggerAllBlogs.error = err;\n        this.bloggerAllBlogs.loading = false;\n        this.bloggerAllBlogs.sub.unsubscribe();\n      });\n    }\n    changePage(page) {\n      this.bloggerAllBlogs.loading = true;\n      this.bloggerAllBlogs.error = null;\n      this.bloggerAllBlogs.sub = this._blogService.getblogList(this.bloggerProfile.data._id, this.categoryId, page).subscribe(res => {\n        this.bloggerAllBlogs.items = res.result;\n        this.bloggerAllBlogs.totalBlogs = res.totalBlogs;\n        this.bloggerAllBlogs.currentPage = res.currentPage;\n        this.bloggerAllBlogs.totalPages = Array(res.totalPages).fill(5).map((x, i) => i);\n        this.bloggerAllBlogs.loading = false;\n        this.bloggerAllBlogs.sub.unsubscribe();\n      }, err => {\n        this.bloggerAllBlogs.error = err;\n        this.bloggerAllBlogs.loading = false;\n        this.bloggerAllBlogs.sub.unsubscribe();\n      });\n    }\n    static #_ = (() => this.ɵfac = function ProfileComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.BlogService));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProfileComponent,\n      selectors: [[\"app-profile\"]],\n      decls: 19,\n      vars: 8,\n      consts: [[1, \"card\", \"bgLight\"], [1, \"container\", \"py-5\"], [1, \"card-body\"], [4, \"ngIf\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"row profile\", 4, \"ngIf\"], [1, \"container\", \"blogSection\"], [1, \"row\", \"py-5\"], [1, \"col-md-9\", \"col-12\"], [1, \"section-title\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-paperclip\", \"me-2\"], [\"aria-label\", \"...\"], [1, \"pagination\", \"pagination-sm\"], [\"class\", \"page-item\", 3, \"active\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"col-md-3\", \"col-12\"], [1, \"text-danger\"], [1, \"row\", \"profile\"], [1, \"col-md-2\", \"col-12\", \"my-2\"], [1, \"imgCap\"], [\"alt\", \"Blogger image\", 3, \"src\"], [\"class\", \"col-md-4 col-12 my-2\", 4, \"ngIf\"], [1, \"col-md-6\", \"col-12\", \"my-2\", \"borderLeft\"], [\"class\", \"d-none d-md-block\", 4, \"ngIf\"], [\"routerLink\", \"/write_blog\", \"class\", \"btn btn-sm btn-dark me-2\", 4, \"ngIf\"], [\"routerLink\", \"/profile_edit\", \"class\", \"btn btn-sm btn-light\", \"routerLink\", \"/profile_edit\", 4, \"ngIf\"], [1, \"col-md-4\", \"col-12\", \"my-2\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-user-circle-o\", \"me-1\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-envelope\", \"me-1\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-calendar-check-o\", \"me-1\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-map\", \"me-1\"], [1, \"d-none\", \"d-md-block\"], [\"routerLink\", \"/write_blog\", 1, \"btn\", \"btn-sm\", \"btn-dark\", \"me-2\"], [\"routerLink\", \"/profile_edit\", \"routerLink\", \"/profile_edit\", 1, \"btn\", \"btn-sm\", \"btn-light\"], [1, \"page-item\"], [1, \"page-link\", 3, \"click\"], [1, \"row\"], [\"class\", \"col-md-4 col-12\", 4, \"ngFor\", \"ngForOf\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-exclamation-triangle\", \"me-2\"], [1, \"col-md-4\", \"col-12\"], [1, \"card\", \"blogs\", 2, \"width\", \"100%\"], [1, \"img\"], [1, \"card-img-top\", 3, \"src\"], [1, \"card-title\"], [3, \"routerLink\"], [1, \"card-text\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-user-circle-o\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-bookmark\"], [3, \"bloggerName\", \"bloggerId\", \"categoryId\"]],\n      template: function ProfileComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵtemplate(3, ProfileComponent_p_3_Template, 2, 0, \"p\", 3)(4, ProfileComponent_small_4_Template, 4, 1, \"small\", 4)(5, ProfileComponent_div_5_Template, 12, 9, \"div\", 5);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(6, \"div\", 6)(7, \"div\", 7)(8, \"div\", 8)(9, \"p\", 9);\n          i0.ɵɵelement(10, \"i\", 10);\n          i0.ɵɵtext(11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"nav\", 11)(13, \"ul\", 12);\n          i0.ɵɵtemplate(14, ProfileComponent_li_14_Template, 3, 3, \"li\", 13);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(15, ProfileComponent_p_15_Template, 2, 2, \"p\", 3)(16, ProfileComponent_div_16_Template, 3, 2, \"div\", 14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 15);\n          i0.ɵɵtemplate(18, ProfileComponent_div_18_Template, 2, 3, \"div\", 3);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.bloggerProfile.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.bloggerProfile.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.bloggerProfile.error && !ctx.bloggerProfile.loading);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\" \", ctx.bloggerProfile.data.first_name + \"'s\", \" blogs \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.bloggerAllBlogs.totalPages);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.bloggerAllBlogs.error || ctx.bloggerAllBlogs.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.bloggerAllBlogs.error && !ctx.bloggerAllBlogs.loading);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !ctx.bloggerProfile.loading && ctx.bloggerProfile.data.first_name);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i2.RouterLink, i5.CategoryComponentComponent, i4.AsyncPipe],\n      styles: [\".profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:150px;border-radius:5px;box-shadow:3px 3px 7px #cfcfcf}.profile[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;color:#000}.profile[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:400!important;font-size:15px;color:#000}.profile[_ngcontent-%COMP%]   .borderLeft[_ngcontent-%COMP%]{border-left:1px solid rgb(192,192,192)}.profile[_ngcontent-%COMP%]   .borderLeft[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;text-align:justify}.imgCap[_ngcontent-%COMP%]{width:130px;height:150px}.imgCap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5px;height:100%;width:100%;object-fit:cover}\"]\n    }))();\n  }\n  return ProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}